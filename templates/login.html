<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Entrar • Gerenciamento de Kits</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

  <style>
    :root{
      --bg1:#0b1630; --bg2:#112347;
      --card:#ffffff10; --border:#ffffff20;
      --text:#e7ecf4; --brand:#c5a25f; --brand-strong:#b7934f;
    }
    html,body{height:100%;}
    body{
      background: radial-gradient(1200px 600px at 20% 20%, #203967 0%, transparent 60%),
                  radial-gradient(900px 500px at 80% 80%, #1a2c52 0%, transparent 60%),
                  linear-gradient(135deg, var(--bg1), var(--bg2));
      color:var(--text);
      overflow:hidden;
    }
    .brand-logo{position:absolute; top:24px; left:24px; display:flex; align-items:center; gap:.75rem; z-index:5;}
    .brand-logo img{height:36px;}
    .brand-logo span{font-weight:600; color:var(--brand);}
    .wrap{
      min-height:100vh; display:grid; grid-template-columns: 1.2fr .9fr;
      gap:clamp(24px,5vw,48px); align-items:center; padding:clamp(24px,4vw,56px);
    }
    @media (max-width: 992px){ .wrap{grid-template-columns:1fr;} }
    .pill{display:inline-flex; align-items:center; gap:.5rem; padding:.35rem .75rem;
      background:#1a2b50; border:1px solid #2d447a; border-radius:999px; font-size:.9rem; color:#c9d6f5;}
    .dot{width:.55rem; height:.55rem; border-radius:50%; background:#35d399; box-shadow:0 0 0 3px #35d39922;}
    h1{font-weight:800; line-height:1.05; font-size:clamp(2rem,5vw,3.25rem); margin:.75rem 0 1rem;}
    .brand{color:var(--brand);}
    .sub{color:#c9d3e6; max-width:46ch}

    .glass{
      background:var(--card); border:1px solid var(--border); border-radius:20px;
      backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
      box-shadow:0 20px 60px #0006, inset 0 1px 0 #ffffff15;
    }
    .card-auth{padding:clamp(18px,3.2vw,28px);}
    .form-label{color:#d7def0;}
    .form-control{background:#0f1f3f; border:1px solid #2b3f6e; color:#eaf0ff;}
    .form-control:focus{border-color:#4f6fb3; box-shadow:0 0 0 .25rem #4f6fb350;}
    .btn-brand{background:linear-gradient(180deg,var(--brand),var(--brand-strong)); color:#0e1530; font-weight:700; border:none;}
    .btn-brand:hover{filter:brightness(.95);}
    .alert-glass{background:#ffebee13; color:#ffb3bd; border:1px solid #ffb3bd40;}
  </style>
</head>
<body>
  <!-- Logo Safra -->
  <div class="brand-logo">
    <img src="{{ url_for('static', filename='img/banco-safra-logo-1.png') }}" alt="Safra">
  </div>

  <main class="wrap container-xxl">
    <!-- Lado esquerdo -->
    <section>
      <div class="pill"><span class="dot"></span><span>Ambiente seguro • Safra</span></div>
      <h1>Bem-vindo ao <span class="brand">Gerenciamento de Kits</span></h1>
      <p class="sub">Controle seu estoque, kits e colaboradores com praticidade.</p>
    </section>

    <!-- Card de login -->
    <section class="glass card-auth">
      <h5 class="mb-2 fw-bold">Entrar</h5>
      <p class="text-secondary mb-4">Use suas credenciais cadastradas.</p>

      {% with msgs = get_flashed_messages(with_categories=true) %}
        {% if msgs %}
          {% for category, message in msgs %}
            <div class="alert alert-glass py-2 px-3 mb-3" role="alert">{{ message }}</div>
          {% endfor %}
        {% endif %}
      {% endwith %}

      <form method="post" action="{{ url_for('login') }}" autocomplete="on">
        <!-- USUÁRIO (texto simples, sem validação de e-mail) -->
        <div class="mb-3">
          <label class="form-label" for="usuario">Usuário</label>
          <input class="form-control" id="usuario" name="usuario" type="text" placeholder="seu.usuario" required>
        </div>

        <!-- SENHA + toggle -->
        <div class="mb-3">
          <label class="form-label" for="senha">Senha</label>
          <div class="input-group">
            <input class="form-control" id="senha" name="senha" type="password" placeholder="••••••••" required>
            <button class="btn btn-outline-secondary" type="button" id="togglePass" aria-label="Mostrar senha">
              <i class="bi bi-eye"></i>
            </button>
          </div>
        </div>

        <div class="form-check d-flex align-items-center mb-4">
          <input class="form-check-input me-2" type="checkbox" id="remember" checked>
          <label class="form-check-label text-secondary" for="remember">Lembrar de mim</label>
        </div>

        <button class="btn btn-brand w-100 py-2" type="submit">Entrar</button>
      </form>
    </section>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Toggle de senha
    (function(){
      const btn = document.getElementById('togglePass');
      const input = document.getElementById('senha');
      if(!btn || !input) return;
      btn.addEventListener('click', () => {
        const isPwd = input.type === 'password';
        input.type = isPwd ? 'text' : 'password';
        btn.innerHTML = isPwd ? '<i class="bi bi-eye-slash"></i>' : '<i class="bi bi-eye"></i>';
      });
    })();
  </script>
</body>
</html>
